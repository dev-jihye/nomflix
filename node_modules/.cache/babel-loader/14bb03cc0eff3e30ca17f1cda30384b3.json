{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sophie/code/nomflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{moviesApi,tvApi}from\"api\";import React from\"react\";import DetailPresenter from\"./DetailPresenter\";import{jsx as _jsx}from\"react/jsx-runtime\";var _default=/*#__PURE__*/function(_React$Component){_inherits(_default,_React$Component);var _super=_createSuper(_default);function _default(props){var _this;_classCallCheck(this,_default);_this=_super.call(this,props);var pathname=props.location.pathname;_this.state={result:null,error:null,loading:true,isMovie:pathname.includes(\"/movie/\")};return _this;}_createClass(_default,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,id,push,isMovie,parsedId,result,_yield$moviesApi$movi,_yield$tvApi$showDeta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,id=_this$props.match.params.id,push=_this$props.history.push;isMovie=this.state.isMovie;parsedId=Number(id);if(!isNaN(parsedId)){_context.next=5;break;}return _context.abrupt(\"return\",push(\"/\"));case 5:result=null;_context.prev=6;if(!isMovie){_context.next=14;break;}_context.next=10;return moviesApi.movieDetail(parsedId);case 10:_yield$moviesApi$movi=_context.sent;result=_yield$moviesApi$movi.data;_context.next=18;break;case 14:_context.next=16;return tvApi.showDetail(parsedId);case 16:_yield$tvApi$showDeta=_context.sent;result=_yield$tvApi$showDeta.data;case 18:console.log(result);_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](6);this.setState({error:\"Can't find.\"});case 24:_context.prev=24;this.setState({loading:false,result:result});return _context.finish(24);case 27:case\"end\":return _context.stop();}}},_callee,this,[[6,21,24,27]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,result=_this$state.result,error=_this$state.error,loading=_this$state.loading;console.log(this.state);return/*#__PURE__*/_jsx(DetailPresenter,{result:result,error:error,loading:loading});}}]);return _default;}(React.Component);export{_default as default};","map":{"version":3,"sources":["/Users/sophie/code/nomflix/src/Routes/Detail/DetailContainer.js"],"names":["moviesApi","tvApi","React","DetailPresenter","props","pathname","location","state","result","error","loading","isMovie","includes","id","match","params","push","history","parsedId","Number","isNaN","movieDetail","data","showDetail","console","log","setState","Component"],"mappings":"m1BAAA,OAASA,SAAT,CAAoBC,KAApB,KAAiC,KAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,uKAGI,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EACA,GACgBC,CAAAA,QADhB,CAEID,KAFJ,CACIE,QADJ,CACgBD,QADhB,CAGA,MAAKE,KAAL,CAAa,CACTC,MAAM,CAAE,IADC,CAETC,KAAK,CAAE,IAFE,CAGTC,OAAO,CAAE,IAHA,CAITC,OAAO,CAAEN,QAAQ,CAACO,QAAT,CAAkB,SAAlB,CAJA,CAAb,CALc,aAWjB,C,gJAED,2OAMQ,KAAKR,KANb,CAGsBS,EAHtB,aAEQC,KAFR,CAGYC,MAHZ,CAGsBF,EAHtB,CAKmBG,IALnB,aAKQC,OALR,CAKmBD,IALnB,CAQYL,OARZ,CAQwB,KAAKJ,KAR7B,CAQYI,OARZ,CASUO,QATV,CASqBC,MAAM,CAACN,EAAD,CAT3B,KAWOO,KAAK,CAACF,QAAD,CAXZ,yDAYeF,IAAI,CAAC,GAAD,CAZnB,SAeQR,MAfR,CAeiB,IAfjB,qBAkBWG,OAlBX,iDAmBsCX,CAAAA,SAAS,CAACqB,WAAV,CAAsBH,QAAtB,CAnBtC,6CAmBqBV,MAnBrB,uBAmBec,IAnBf,uDAqBsCrB,CAAAA,KAAK,CAACsB,UAAN,CAAiBL,QAAjB,CArBtC,6CAqBqBV,MArBrB,uBAqBec,IArBf,SAuBQE,OAAO,CAACC,GAAR,CAAYjB,MAAZ,EAvBR,iFAyBQ,KAAKkB,QAAL,CAAc,CAAEjB,KAAK,CAAE,aAAT,CAAd,EAzBR,yBA2BQ,KAAKiB,QAAL,CAAc,CAAEhB,OAAO,CAAE,KAAX,CAAkBF,MAAM,CAANA,MAAlB,CAAd,EA3BR,sG,mIA+BA,iBAAS,CACL,gBAAmC,KAAKD,KAAxC,CAAQC,MAAR,aAAQA,MAAR,CAAgBC,KAAhB,aAAgBA,KAAhB,CAAuBC,OAAvB,aAAuBA,OAAvB,CACAc,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAjB,EACA,mBACI,KAAC,eAAD,EACI,MAAM,CAAEC,MADZ,CAEI,KAAK,CAAEC,KAFX,CAGI,OAAO,CAAEC,OAHb,EADJ,CAOH,C,sBAvDwBR,KAAK,CAACyB,S","sourcesContent":["import { moviesApi, tvApi } from \"api\";\nimport React from \"react\";\nimport DetailPresenter from \"./DetailPresenter\";\n\nexport default class extends React.Component{\n    constructor(props){\n        super(props);\n        const {\n            location: { pathname }\n        } = props;\n        this.state = {\n            result: null,\n            error: null,\n            loading: true,\n            isMovie: pathname.includes(\"/movie/\")\n        };\n    }\n\n    async componentDidMount() {\n        const {\n            match: {\n                params: { id }\n            },\n            history: { push }\n        } = this.props;\n\n        const { isMovie } = this.state;\n        const parsedId = Number(id);\n        \n        if(isNaN(parsedId)){\n            return push(\"/\");\n        }\n        \n        let result = null;\n\n        try {\n            if(isMovie){\n                ({ data: result } = await moviesApi.movieDetail(parsedId));\n            } else {\n                ({ data: result } = await tvApi.showDetail(parsedId));\n            }\n            console.log(result);\n        } catch {\n            this.setState({ error: \"Can't find.\"})\n        } finally {\n            this.setState({ loading: false, result });\n        }\n    }\n\n    render() {\n        const { result, error, loading } = this.state;\n        console.log(this.state);\n        return (\n            <DetailPresenter \n                result={result}\n                error={error}\n                loading={loading}\n            />\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}